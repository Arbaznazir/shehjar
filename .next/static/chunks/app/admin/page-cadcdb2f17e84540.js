(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3606:function(e,r,t){Promise.resolve().then(t.bind(t,2598))},2598:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return c}});var s=t(7437),a=t(2265),l=t(9376),n=t(8485),d=t(63),i=t(7648),o=t(3375);function c(){let[e,r]=(0,a.useState)(!1),[t,c]=(0,a.useState)(!0),g=(0,l.useRouter)(),[m,x]=(0,a.useState)([]),[h,b]=(0,a.useState)({total:0,pendingApproval:0,pendingPayment:0,approved:0,completed:0});(0,a.useEffect)(()=>{(0,o.$8)()?r(!0):g.replace("/admin/login"),c(!1),(()=>{try{let e=localStorage.getItem("adminNotifications");if(e){let r=JSON.parse(e);x(r.sort((e,r)=>new Date(r.createdAt)-new Date(e.createdAt)))}let r=localStorage.getItem("shehjarOrders");if(r){let e=JSON.parse(r),t={total:e.length,pendingApproval:e.filter(e=>"pendingApproval"===e.status).length,pendingPayment:e.filter(e=>"pendingPayment"===e.status).length,approved:e.filter(e=>["approved","preparing","ready"].includes(e.status)).length,completed:e.filter(e=>"completed"===e.status).length};b(t)}}catch(e){console.error("Error loading dashboard data:",e)}finally{c(!1)}})()},[g]);let u=m.filter(e=>!e.read).length,p=e=>"newOrder"===e?(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-900/30 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});return t?(0,s.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-[rgba(234,219,102,1)]",children:"Loading..."})}):e?(0,s.jsxs)("main",{className:"min-h-screen bg-black",children:[(0,s.jsx)(n.Z,{}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-20",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Admin Dashboard"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Manage your restaurant's menu and content."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)(i.default,{href:"/admin/dashboard",className:"dish-card p-6 rounded-lg hover-lift",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Analytics Dashboard"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"View sales data, orders, and export monthly reports."}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] h-1 w-16 rounded-full"})]}),(0,s.jsxs)(i.default,{href:"/admin/table-manager",className:"dish-card p-6 rounded-lg hover-lift",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Table Manager"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Monitor active tables, orders, and payment status."}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] h-1 w-16 rounded-full"})]}),(0,s.jsxs)(i.default,{href:"/admin/menu-manager",className:"dish-card p-6 rounded-lg hover-lift",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Menu Manager"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Add, edit, or remove menu items and categories."}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] h-1 w-16 rounded-full"})]}),(0,s.jsxs)(i.default,{href:"/admin/settings",className:"dish-card p-6 rounded-lg hover-lift",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Settings"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Configure GST rates, discounts, and global settings."}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] h-1 w-16 rounded-full"})]}),(0,s.jsxs)(i.default,{href:"/admin/image-uploader",className:"dish-card p-6 rounded-lg hover-lift",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Image Uploader"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Upload and manage images for menu items."}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] h-1 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"dish-card p-6 rounded-lg hover-lift cursor-pointer",onClick:()=>{(0,o.kS)(),g.push("/admin/login")},children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Logout"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Sign out from the admin dashboard."}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] h-1 w-16 rounded-full"})]})]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Quick Stats"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Total Orders"}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:h.total})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Pending Approval"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-500",children:h.pendingApproval})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Pending Payment"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:h.pendingPayment})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-800",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"In Progress"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:h.approved})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,s.jsx)(i.default,{href:"/admin/orders",className:"block",children:(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:bg-gray-800 transition-colors h-full",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-900/30 flex items-center justify-center mr-4",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg",children:"Manage Orders"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"View and process customer orders"})]})]}),(h.pendingApproval>0||h.pendingPayment>0)&&(0,s.jsx)("div",{className:"mt-4 bg-blue-900/20 p-2 rounded text-sm",children:(0,s.jsxs)("span",{className:"text-blue-400",children:[h.pendingApproval+h.pendingPayment," order(s) need attention"]})})]})}),(0,s.jsx)(i.default,{href:"/menu",className:"block",children:(0,s.jsx)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:bg-gray-800 transition-colors h-full",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-900/30 flex items-center justify-center mr-4",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-lg",children:"Menu Editor"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Update menu items and prices"})]})]})})})]})]}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Notifications"}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("h3",{className:"font-bold",children:"Notifications"}),u>0&&(0,s.jsxs)("span",{className:"ml-2 px-2 py-0.5 bg-red-900/50 text-red-500 rounded-full text-xs",children:[u," new"]})]}),u>0&&(0,s.jsx)("button",{onClick:()=>{let e=m.map(e=>({...e,read:!0}));x(e),localStorage.setItem("adminNotifications",JSON.stringify(e))},className:"text-xs text-gray-400 hover:text-[rgba(234,219,102,1)]",children:"Mark all as read"})]}),(0,s.jsx)("div",{className:"p-2 max-h-[500px] overflow-y-auto",children:0===m.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("svg",{className:"w-12 h-12 text-gray-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,s.jsx)("p",{className:"mt-2 text-gray-400 text-sm",children:"No notifications"})]}):(0,s.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,s.jsx)(i.default,{href:"newOrder"===e.type?"/admin/orders":"/admin",className:"block p-3 rounded-md ".concat(e.read?"bg-gray-900 hover:bg-gray-800":"bg-blue-900/20 hover:bg-blue-900/30"),children:(0,s.jsxs)("div",{className:"flex",children:[p(e.type),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("p",{className:"text-sm ".concat(e.read?"text-gray-300":"text-white font-medium"),children:e.message}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.createdAt).toLocaleString()})]})]})},e.id))})})]})]})]}),(0,s.jsx)(d.Z,{})]}):null}t(3145)},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[648,145,600,204,971,117,744],function(){return e(e.s=3606)}),_N_E=e.O()}]);