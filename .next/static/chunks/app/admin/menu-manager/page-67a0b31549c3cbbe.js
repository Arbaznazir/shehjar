(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{4215:function(e,a,s){Promise.resolve().then(s.bind(s,6696))},6696:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return d}});var t=s(7437),r=s(29),n=s.n(r),i=s(2265),l=s(9376),o=s(3145),c=s(9600);function d(){let[e,a]=(0,i.useState)(!1),[s,r]=(0,i.useState)(!0),[d,m]=(0,i.useState)([]),[x,b]=(0,i.useState)([]),[u,f]=(0,i.useState)("All"),[g,j]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[N,w]=(0,i.useState)({id:"",name:"",description:"",price:"",category:"",image:""}),k=(0,l.useRouter)();(0,i.useEffect)(()=>{if(localStorage.getItem("adminAuth")){a(!0);let e=Object.values(c.KD).flat();m(e),b(["All",...new Set(e.map(e=>e.category))])}else k.push("/admin/login");r(!1)},[k]);let C=e=>{f(e);let a=Object.values(c.KD).flat();"All"===e?m(a):m(a.filter(a=>a.category===e))},L=e=>{let{name:a,value:s}=e.target;w({...N,[a]:"price"===a?parseFloat(s)||0:s})},M=e=>{j(e),w({id:e.id,name:e.name,description:e.description,price:e.price,category:e.category,image:e.image}),p(!0)},S=()=>{p(!1)},A=e=>{window.confirm("Are you sure you want to delete this item?")&&m(d.filter(a=>a.id!==e))};return s?(0,t.jsx)("div",{className:"flex items-center justify-center h-full min-h-[60vh]",children:(0,t.jsx)("div",{className:"text-[rgba(234,219,102,1)]",children:"Loading..."})}):e?(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 w-full",children:[(0,t.jsx)(n(),{id:"a06a7bfa73050791",children:"@media print{body *{display:none}.print-menu,.print-menu *{display:block!important;visibility:visible!important}.no-print{display:none!important}}"}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 "+((v?"print-menu":"")||""),children:[(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791",children:[(0,t.jsx)("h1",{className:"jsx-a06a7bfa73050791 text-3xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Menu Manager"}),(0,t.jsx)("p",{className:"jsx-a06a7bfa73050791 text-gray-400",children:"Manage your restaurant's menu items."})]}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 flex flex-wrap gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{y(!0),setTimeout(()=>{window.print(),y(!1)},300)},className:"jsx-a06a7bfa73050791 px-4 py-2 bg-gray-800 text-white rounded-lg font-medium hover:bg-gray-700 transition-opacity flex items-center no-print",children:[(0,t.jsx)("span",{className:"jsx-a06a7bfa73050791 mr-2",children:"Print Menu"}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-a06a7bfa73050791 h-5 w-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z",className:"jsx-a06a7bfa73050791"})})]}),(0,t.jsx)("button",{onClick:()=>{j(null),w({id:Date.now(),name:"",description:"",price:"",category:x[1]||"",image:"/images/default-food.jpg"}),p(!0)},className:"jsx-a06a7bfa73050791 px-4 py-2 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black rounded-lg font-medium hover:opacity-90 transition-opacity no-print",children:"Add New Item"})]})]}),(0,t.jsx)("div",{className:"jsx-a06a7bfa73050791 mb-6 overflow-x-auto no-print",children:(0,t.jsx)("div",{className:"jsx-a06a7bfa73050791 flex space-x-4 pb-2",children:x.map(e=>(0,t.jsx)("button",{onClick:()=>C(e),className:"jsx-a06a7bfa73050791 "+"px-4 py-2 rounded-full whitespace-nowrap text-sm font-medium transition-all ".concat(u===e?"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black":"bg-gray-800 text-white hover:bg-gray-700"),children:e},e))})}),(0,t.jsx)("div",{className:"jsx-a06a7bfa73050791 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 bg-gray-900 rounded-lg overflow-hidden shadow-md border border-gray-800 hover:border-[rgba(234,219,102,0.5)] transition-all",children:[(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 relative h-48 overflow-hidden",children:[(0,t.jsx)(o.default,{src:e.image||"/images/default-food.jpg",alt:e.name,className:"object-cover",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 absolute top-0 right-0 p-2 no-print",children:[(0,t.jsx)("button",{onClick:()=>M(e),title:"Edit",className:"jsx-a06a7bfa73050791 bg-gray-900 rounded-full p-2 text-white hover:bg-gray-700 mr-2",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-a06a7bfa73050791 h-5 w-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z",className:"jsx-a06a7bfa73050791"})})}),(0,t.jsx)("button",{onClick:()=>A(e.id),title:"Delete",className:"jsx-a06a7bfa73050791 bg-gray-900 rounded-full p-2 text-red-500 hover:bg-gray-700",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-a06a7bfa73050791 h-5 w-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",className:"jsx-a06a7bfa73050791"})})})]})]}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 p-4",children:[(0,t.jsx)("span",{className:"jsx-a06a7bfa73050791 px-2 py-1 bg-gray-800 text-xs text-gray-400 rounded-full mb-2 inline-block",children:e.category}),(0,t.jsx)("h3",{className:"jsx-a06a7bfa73050791 text-lg font-medium text-white mb-1",children:e.name}),(0,t.jsx)("p",{className:"jsx-a06a7bfa73050791 text-gray-400 text-sm mb-2 line-clamp-2",children:e.description||"No description available."}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"jsx-a06a7bfa73050791 text-[rgba(234,219,102,1)] font-bold",children:["₹",e.price]}),void 0!==e.isVeg&&(0,t.jsx)("span",{className:"jsx-a06a7bfa73050791 "+"px-2 py-1 rounded-full text-xs font-semibold ".concat(e.isVeg?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isVeg?"Veg":"Non-Veg"})]})]})]},e.id))})]}),h&&(0,t.jsx)("div",{className:"jsx-a06a7bfa73050791 fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,t.jsx)("div",{className:"jsx-a06a7bfa73050791 bg-gray-900 rounded-lg w-full max-w-md overflow-y-auto max-h-[90vh] border border-gray-800",children:(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 p-6",children:[(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"jsx-a06a7bfa73050791 text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:g?"Edit Menu Item":"Add New Menu Item"}),(0,t.jsx)("button",{onClick:S,className:"jsx-a06a7bfa73050791 text-gray-400 hover:text-white",children:(0,t.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-a06a7bfa73050791 h-6 w-6",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-a06a7bfa73050791"})})})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g?m(d.map(e=>e.id===N.id?N:e)):m([...d,N]),S()},className:"jsx-a06a7bfa73050791",children:[(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 mb-4",children:[(0,t.jsx)("label",{htmlFor:"name",className:"jsx-a06a7bfa73050791 block text-gray-400 text-sm font-medium mb-2",children:"Item Name"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:N.name,onChange:L,required:!0,className:"jsx-a06a7bfa73050791 w-full p-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)]"})]}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 mb-4",children:[(0,t.jsx)("label",{htmlFor:"description",className:"jsx-a06a7bfa73050791 block text-gray-400 text-sm font-medium mb-2",children:"Description"}),(0,t.jsx)("textarea",{id:"description",name:"description",value:N.description,onChange:L,className:"jsx-a06a7bfa73050791 w-full p-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)] h-24"})]}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 mb-4",children:[(0,t.jsx)("label",{htmlFor:"price",className:"jsx-a06a7bfa73050791 block text-gray-400 text-sm font-medium mb-2",children:"Price (₹)"}),(0,t.jsx)("input",{type:"number",step:"0.01",id:"price",name:"price",value:N.price,onChange:L,required:!0,className:"jsx-a06a7bfa73050791 w-full p-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)]"})]}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 mb-4",children:[(0,t.jsx)("label",{htmlFor:"category",className:"jsx-a06a7bfa73050791 block text-gray-400 text-sm font-medium mb-2",children:"Category"}),(0,t.jsxs)("select",{id:"category",name:"category",value:N.category,onChange:L,required:!0,className:"jsx-a06a7bfa73050791 w-full p-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)]",children:[(0,t.jsx)("option",{value:"",className:"jsx-a06a7bfa73050791",children:"Select a category"}),x.filter(e=>"All"!==e).map(e=>(0,t.jsx)("option",{value:e,className:"jsx-a06a7bfa73050791",children:e},e))]})]}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 mb-4",children:[(0,t.jsx)("label",{htmlFor:"image",className:"jsx-a06a7bfa73050791 block text-gray-400 text-sm font-medium mb-2",children:"Image URL"}),(0,t.jsx)("input",{type:"text",id:"image",name:"image",value:N.image,onChange:L,className:"jsx-a06a7bfa73050791 w-full p-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)]"})]}),(0,t.jsxs)("div",{className:"jsx-a06a7bfa73050791 flex justify-end mt-6",children:[(0,t.jsx)("button",{type:"button",onClick:S,className:"jsx-a06a7bfa73050791 mr-2 px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"jsx-a06a7bfa73050791 px-4 py-2 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black rounded-md hover:opacity-90 transition-opacity",children:g?"Update Item":"Add Item"})]})]})]})})})]}):null}},9376:function(e,a,s){"use strict";var t=s(5475);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},5523:function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"RouterContext",{enumerable:!0,get:function(){return t}});let t=s(7043)._(s(2265)).default.createContext(null)}},function(e){e.O(0,[145,29,600,971,117,744],function(){return e(e.s=4215)}),_N_E=e.O()}]);