(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{2524:function(e,t,a){Promise.resolve().then(a.bind(a,3561))},3561:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(7437),l=a(2265),n=a(9376),r=a(8485),c=a(63),o=a(9397),i=a(3375);function u(){let e=(0,n.useRouter)(),{config:t,updateConfig:a,isLoaded:u}=(0,o.ZR)(),[d,g]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!0),[b,h]=(0,l.useState)([]),[f,p]=(0,l.useState)(5),[j,y]=(0,l.useState)("none"),[N,v]=(0,l.useState)(0),[S,w]=(0,l.useState)(!1),[k,C]=(0,l.useState)(""),[D,R]=(0,l.useState)({type:"",message:""});(0,l.useEffect)(()=>{(0,i.$8)()?g(!0):e.replace("/admin/login"),x(!1)},[e]),(0,l.useEffect)(()=>{u&&(h(t.gstRates||[]),p(t.defaultGSTRate||5),y(t.defaultDiscountType||"none"),v(t.defaultDiscountValue||0),w(t.allowUserPriceControls||!1))},[t,u]);let T=e=>{let t=[...b];t.splice(e,1),h(t),t.length>0&&!t.some(e=>e.value===f)&&p(t[0].value)};return m?(0,s.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-[rgba(234,219,102,1)]",children:"Loading..."})}):d?(0,s.jsxs)("main",{className:"min-h-screen bg-black",children:[(0,s.jsx)(r.Z,{}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-20",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Global Settings"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Manage GST rates, discounts, and other global configurations."})]}),D.message&&(0,s.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat("success"===D.type?"bg-green-900/50 text-green-200":"bg-red-900/50 text-red-200"),children:D.message}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a("gstRates",b),a("defaultGSTRate",f),a("defaultDiscountType",j),a("defaultDiscountValue",N),a("allowUserPriceControls",S),R({type:"success",message:"Settings saved successfully"}),setTimeout(()=>{R({type:"",message:""})},3e3)},className:"dish-card rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"GST Rate Configuration"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-400 mb-2",children:"Available GST Rates"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:b.map((e,t)=>(0,s.jsxs)("div",{className:"bg-gray-800 rounded-full px-3 py-1 flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:e.label}),(0,s.jsx)("button",{type:"button",onClick:()=>T(t),className:"text-gray-400 hover:text-red-400",children:"\xd7"})]},t))}),(0,s.jsxs)("div",{className:"flex mt-2",children:[(0,s.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:k,onChange:e=>C(e.target.value),placeholder:"Add new rate (%)",className:"bg-gray-800 border border-gray-700 rounded-l-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,1)]"}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=parseFloat(k);!isNaN(e)&&e>0&&e<=100&&(h([...b,{value:e,label:"".concat(e,"%")}]),C(""))},className:"bg-gray-700 px-4 py-2 rounded-r-lg hover:bg-gray-600",children:"Add"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-400 mb-2",children:"Default GST Rate"}),(0,s.jsx)("select",{value:f,onChange:e=>p(parseFloat(e.target.value)),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,1)]",children:b.map((e,t)=>(0,s.jsx)("option",{value:e.value,children:e.label},t))})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Default Discount Configuration"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-400 mb-2",children:"Default Discount Type"}),(0,s.jsxs)("select",{value:j,onChange:e=>y(e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,1)]",children:[(0,s.jsx)("option",{value:"none",children:"No Discount"}),(0,s.jsx)("option",{value:"flat",children:"Flat Amount"}),(0,s.jsx)("option",{value:"percentage",children:"Percentage"})]})]}),"none"!==j&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-gray-400 mb-2",children:["Default Discount Value","percentage"===j?" (%)":" (â‚¹)"]}),(0,s.jsx)("input",{type:"number",min:"0",max:"percentage"===j?"100":"10000",step:"percentage"===j?"1":"10",value:N,onChange:e=>v(parseFloat(e.target.value)||0),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,1)]"})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"User Interface Settings"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"allow-user-controls",checked:S,onChange:e=>w(e.target.checked),className:"mr-2 h-5 w-5 bg-gray-800 border-gray-700 rounded focus:ring-2 focus:ring-[rgba(234,219,102,1)]"}),(0,s.jsx)("label",{htmlFor:"allow-user-controls",className:"text-gray-400",children:"Allow customers to modify GST rates and discounts on menu page"})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Save Settings"})})]})]})}),(0,s.jsx)(c.Z,{})]}):null}},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[648,145,600,204,971,117,744],function(){return e(e.s=2524)}),_N_E=e.O()}]);