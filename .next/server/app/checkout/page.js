(()=>{var e={};e.id=285,e.ids=[285],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8885:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>g,tree:()=>c}),s(4029),s(6149),s(1888);var t=s(3191),a=s(8716),n=s(7922),l=s.n(n),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(r,o);let c=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4029)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\checkout\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6149)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,1888)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\not-found.js"]}],d=["C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\checkout\\page.js"],m="/checkout/page",x={require:s,loadChunk:()=>Promise.resolve()},g=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7122:(e,r,s)=>{Promise.resolve().then(s.bind(s,1691))},1691:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d});var t=s(326),a=s(7577),n=s(5047),l=s(2374),i=s(8534),o=s(2423),c=s(3436);s(6226);let d=()=>{let e=(0,n.useRouter)(),{cartItems:r,getCartTotal:s,getFormattedCartTotal:d,clearCart:m}=(0,l.j)(),[x,g]=(0,a.useState)(1),[u,h]=(0,a.useState)(!1),[b,p]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[f,N]=(0,a.useState)({name:"",phone:"",email:"",address:"",specialInstructions:""}),[v,w]=(0,a.useState)("payAfterDelivery"),[k,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{0!==r.length||b||e.push("/menu")},[r,b,e]);let P=e=>{let{name:r,value:s}=e.target;N(e=>({...e,[r]:s}))},S=e=>{w(e)},D=async()=>{h(!0);let e={id:`ORD-${Date.now().toString(36).toUpperCase()}`,customerInfo:f,items:r,total:s(),paymentMethod:v,isInRestaurant:k,status:"payFirst"===v?"pendingPayment":"pendingApproval",createdAt:new Date().toISOString()};try{console.log("Submitting order:",e),await new Promise(e=>setTimeout(e,1500));let r=[...JSON.parse(localStorage.getItem("shehjarOrders")||"[]"),e];localStorage.setItem("shehjarOrders",JSON.stringify(r));let s=JSON.parse(localStorage.getItem("adminNotifications")||"[]"),t={id:Date.now(),type:"newOrder",orderId:e.id,message:`New order #${e.id} received`,createdAt:new Date().toISOString(),read:!1};localStorage.setItem("adminNotifications",JSON.stringify([...s,t])),j(e.id),p(!0),m(),g(3)}catch(e){console.error("Error submitting order:",e),alert("There was an error processing your order. Please try again.")}finally{h(!1)}},O=()=>{e.push("/menu")};return b&&3===x?(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[t.jsx(i.Z,{}),t.jsx("div",{className:"container mx-auto py-24 px-4",children:t.jsx("div",{className:"max-w-lg mx-auto bg-gray-900 rounded-lg shadow-lg p-8 text-center",children:(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 text-green-500 mb-4",children:t.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h2",{className:"text-2xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Order Successfully Placed!"}),(0,t.jsxs)("p",{className:"text-gray-400 mb-6",children:["Your order #",y," has been received and"," ","payFirst"===v?"is being processed.":"is waiting for restaurant confirmation."]}),"payFirst"!==v&&t.jsx("div",{className:"bg-yellow-900/30 border border-yellow-800 rounded-md p-4 mb-6",children:(0,t.jsxs)("p",{className:"text-yellow-500 text-sm",children:["Please note that your order will be prepared once the restaurant confirms it.",k?" You can pay for your order after your meal.":" You will pay for your order upon delivery."]})}),t.jsx("button",{onClick:O,className:"px-6 py-3 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black rounded-lg font-medium",children:"Back to Menu"})]})})}),t.jsx(o.Z,{})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[t.jsx(i.Z,{}),t.jsx("div",{className:"container mx-auto py-24 px-4",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Checkout"}),t.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] mx-auto mb-6"})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center mb-8",children:[t.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${x>=1?"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black":"bg-gray-800 text-gray-400"}`,children:"1"}),t.jsx("div",{className:`h-1 w-16 md:w-32 ${x>=2?"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]":"bg-gray-800"}`}),t.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${x>=2?"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black":"bg-gray-800 text-gray-400"}`,children:"2"}),t.jsx("div",{className:`h-1 w-16 md:w-32 ${x>=3?"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]":"bg-gray-800"}`}),t.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${x>=3?"bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black":"bg-gray-800 text-gray-400"}`,children:"3"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-400 px-2",children:[t.jsx("span",{className:x>=1?"text-[rgba(234,219,102,1)]":"",children:"Customer Info"}),t.jsx("span",{className:x>=2?"text-[rgba(234,219,102,1)]":"",children:"Payment Method"}),t.jsx("span",{className:x>=3?"text-[rgba(234,219,102,1)]":"",children:"Confirmation"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t.jsx("div",{className:"md:col-span-2",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 mb-6",children:[1===x&&(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g(2)},children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Customer Information"}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Full Name *"}),t.jsx("input",{type:"text",name:"name",value:f.name,onChange:P,required:!0,className:"w-full px-4 py-2 rounded-md bg-gray-800 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)]"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:P,required:!0,className:"w-full px-4 py-2 rounded-md bg-gray-800 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)]"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Email (Optional)"}),t.jsx("input",{type:"email",name:"email",value:f.email,onChange:P,className:"w-full px-4 py-2 rounded-md bg-gray-800 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)]"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Delivery Address (Optional for in-restaurant orders)"}),t.jsx("textarea",{name:"address",value:f.address,onChange:P,rows:"2",className:"w-full px-4 py-2 rounded-md bg-gray-800 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)]"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Special Instructions (Optional)"}),t.jsx("textarea",{name:"specialInstructions",value:f.specialInstructions,onChange:P,rows:"2",className:"w-full px-4 py-2 rounded-md bg-gray-800 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-[rgba(234,219,102,0.5)]",placeholder:"Any allergies, special requests, etc."})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"Back to Menu"}),t.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black rounded-md font-medium",children:"Continue to Payment"})]})]}),2===x&&(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Payment Method"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Are you dining in the restaurant?"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",checked:k,onChange:()=>C(!0),className:"mr-2"}),t.jsx("span",{children:"Yes, I'm at the restaurant"})]}),(0,t.jsxs)("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",checked:!k,onChange:()=>C(!1),className:"mr-2"}),t.jsx("span",{children:"No, it's a delivery order"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("div",{onClick:()=>S("payAfterDelivery"),className:`border ${"payAfterDelivery"===v?"border-[rgba(234,219,102,1)] bg-gray-800":"border-gray-700 bg-gray-900"} rounded-lg p-4 cursor-pointer hover:bg-gray-800 transition-colors`,children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("input",{type:"radio",checked:"payAfterDelivery"===v,onChange:()=>{},className:"mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-medium",children:k?"Pay After Feast":"Cash on Delivery"}),t.jsx("p",{className:"text-sm text-gray-400",children:k?"Enjoy your meal and pay when you're done":"Pay when your order arrives at your doorstep"})]})]})}),t.jsx("div",{onClick:()=>S("payFirst"),className:`border ${"payFirst"===v?"border-[rgba(234,219,102,1)] bg-gray-800":"border-gray-700 bg-gray-900"} rounded-lg p-4 cursor-pointer hover:bg-gray-800 transition-colors`,children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("input",{type:"radio",checked:"payFirst"===v,onChange:()=>{},className:"mr-3"}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-medium",children:"Pay Now"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Pay securely online via our payment gateway"})]})]})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("button",{type:"button",onClick:()=>g(1),className:"px-4 py-2 rounded-md bg-gray-800 text-white hover:bg-gray-700",children:"Back"}),t.jsx("button",{type:"button",onClick:D,disabled:u,className:"px-6 py-2 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)] text-black rounded-md font-medium flex items-center",children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Place Order"})]})]})]})}),t.jsx("div",{className:"md:col-span-1",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 sticky top-24",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),t.jsx("div",{className:"space-y-3 mb-4",children:r.map(e=>{let r=e.price,s=e.name;if(e.selectedVariant&&e.variants){let t=e.variants.find(r=>r.size===e.selectedVariant);t&&(r=t.price,s=`${e.name} (${e.selectedVariant})`)}return(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("div",{className:"flex-1",children:(0,t.jsxs)("span",{className:"text-gray-300",children:[e.quantity," x ",s]})}),t.jsx("div",{className:"text-white",children:(0,c._B)(r*e.quantity)})]},e.cartItemId)})}),(0,t.jsxs)("div",{className:"border-t border-gray-800 pt-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-gray-400",children:"Subtotal"}),t.jsx("span",{className:"text-white",children:d()})]}),(0,t.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[t.jsx("span",{children:"Total"}),t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:d()})]})]})]})})]})]})}),t.jsx(o.Z,{})]})}},5047:(e,r,s)=>{"use strict";var t=s(7389);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},4029:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`C:\Users\wizkh\Desktop\Shehjar\app\checkout\page.js#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[986,436,491],()=>s(8885));module.exports=t})();