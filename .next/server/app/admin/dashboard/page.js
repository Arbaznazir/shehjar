(()=>{var e={};e.id=427,e.ids=[427],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9778:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o}),r(6660),r(5986),r(6149),r(1888);var a=r(3191),s=r(8716),l=r(7922),d=r.n(l),n=r(5231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);let o=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6660)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\admin\\dashboard\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5986)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\admin\\layout.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6149)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,1888)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\not-found.js"]}],c=["C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\admin\\dashboard\\page.js"],x="/admin/dashboard/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3321:(e,t,r)=>{Promise.resolve().then(r.bind(r,1548))},4555:(e,t,r)=>{Promise.resolve().then(r.bind(r,9339))},1548:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(326),s=r(7577),l=r(5047),d=r(8534),n=r(2423),i=r(434),o=r(6550);function c(){let[e,t]=(0,s.useState)(!1),[r,c]=(0,s.useState)(!0),[x,h]=(0,s.useState)(""),[m,g]=(0,s.useState)([]),[b,u]=(0,s.useState)([]),[p,j]=(0,s.useState)([]),[y,v]=(0,s.useState)([]),[f,N]=(0,s.useState)(null),[w,D]=(0,s.useState)({totalOrders:0,totalRevenue:0,averageOrderValue:0,cancelRate:0});(0,l.useRouter)();let C=()=>{let e=new Blob([(0,o.v2)(m)],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(e),r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download",`${x}_Orders.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)};return r?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"text-[rgba(234,219,102,1)]",children:"Loading..."})}):e?(0,a.jsxs)("main",{className:"min-h-screen bg-black",children:[a.jsx(d.Z,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-20",children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Sales analytics and order insights for ",x]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:C,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export ",x," Data"]}),a.jsx(i.default,{href:"/admin",className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Back to Admin"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900 border border-[rgba(182,155,76,0.3)] shadow-lg rounded-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-2",children:"Total Orders"}),a.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:w.totalOrders}),a.jsx("div",{className:"text-[rgba(234,219,102,1)]",children:"This month"})]}),a.jsx("div",{className:"h-1 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]"})]}),(0,a.jsxs)("div",{className:"bg-gray-900 border border-[rgba(182,155,76,0.3)] shadow-lg rounded-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-2",children:"Total Revenue"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-white mb-2",children:["₹",w.totalRevenue.toFixed(2)]}),a.jsx("div",{className:"text-[rgba(234,219,102,1)]",children:"Inc. 18% GST"})]}),a.jsx("div",{className:"h-1 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]"})]}),(0,a.jsxs)("div",{className:"bg-gray-900 border border-[rgba(182,155,76,0.3)] shadow-lg rounded-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-2",children:"Average Order"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-white mb-2",children:["₹",w.averageOrderValue.toFixed(2)]}),a.jsx("div",{className:"text-[rgba(234,219,102,1)]",children:"Per order value"})]}),a.jsx("div",{className:"h-1 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]"})]}),(0,a.jsxs)("div",{className:"bg-gray-900 border border-[rgba(182,155,76,0.3)] shadow-lg rounded-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-2",children:"Cancellation Rate"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-white mb-2",children:[w.cancelRate.toFixed(1),"%"]}),a.jsx("div",{className:"text-[rgba(234,219,102,1)]",children:"Order cancellations"})]}),a.jsx("div",{className:"h-1 bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]"})]})]}),(0,a.jsxs)("div",{className:"bg-gray-900 border border-[rgba(182,155,76,0.3)] shadow-lg rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Revenue by Category"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"pb-3 text-gray-400",children:"Category"}),a.jsx("th",{className:"pb-3 text-gray-400 text-right",children:"Revenue"}),a.jsx("th",{className:"pb-3 text-gray-400 text-right",children:"Share"})]})}),a.jsx("tbody",{children:p.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-800",children:[a.jsx("td",{className:"py-3 font-medium",children:e.category}),(0,a.jsxs)("td",{className:"py-3 text-right text-[rgba(234,219,102,1)]",children:["₹",e.revenue.toFixed(2)]}),(0,a.jsxs)("td",{className:"py-3 text-right",children:[(e.revenue/w.totalRevenue*100).toFixed(1),"%"]})]},e.category))})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-900 border border-[rgba(182,155,76,0.3)] shadow-lg rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Top Selling Items"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"pb-3 text-gray-400",children:"Item"}),a.jsx("th",{className:"pb-3 text-gray-400",children:"Category"}),a.jsx("th",{className:"pb-3 text-gray-400 text-right",children:"Quantity Sold"}),a.jsx("th",{className:"pb-3 text-gray-400 text-right",children:"Revenue"})]})}),a.jsx("tbody",{children:b.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-800",children:[a.jsx("td",{className:"py-3 font-medium",children:e.name}),a.jsx("td",{className:"py-3 text-gray-400",children:e.category}),a.jsx("td",{className:"py-3 text-right",children:e.quantity}),(0,a.jsxs)("td",{className:"py-3 text-right text-[rgba(234,219,102,1)]",children:["₹",e.revenue.toFixed(2)]})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-900 border border-[rgba(182,155,76,0.3)] shadow-lg rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Recent Orders"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-800",children:[a.jsx("th",{className:"pb-3 text-gray-400",children:"Order ID"}),a.jsx("th",{className:"pb-3 text-gray-400",children:"Date"}),a.jsx("th",{className:"pb-3 text-gray-400",children:"Items"}),a.jsx("th",{className:"pb-3 text-gray-400 text-right",children:"Total"}),a.jsx("th",{className:"pb-3 text-gray-400 text-center",children:"Status"}),a.jsx("th",{className:"pb-3 text-gray-400",children:"Payment"})]})}),a.jsx("tbody",{children:y.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-900/50",children:[a.jsx("td",{className:"py-3 font-medium",children:e.id}),a.jsx("td",{className:"py-3 text-gray-400",children:new Date(e.date).toLocaleDateString()}),(0,a.jsxs)("td",{className:"py-3",children:[e.items.slice(0,2).map((e,t)=>(0,a.jsxs)("div",{className:"text-sm",children:[e.quantity,"x ",e.name]},t)),e.items.length>2&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["+",e.items.length-2," more items"]})]}),(0,a.jsxs)("td",{className:"py-3 text-right text-[rgba(234,219,102,1)]",children:["₹",e.total.toFixed(2)]}),a.jsx("td",{className:"py-3 text-center",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-900/30 text-green-400",children:"Completed"})}),a.jsx("td",{className:"py-3 text-gray-400",children:e.paymentMethod||"Cash"})]},e.id))})]})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(i.default,{href:"/admin/orders",className:"text-[rgba(234,219,102,1)] hover:underline text-sm",children:"View All Orders →"})})]}),(0,a.jsxs)("div",{className:"mt-10",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Monthly Reports"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:["January","February","March","April","May","June","July"].map(e=>(0,a.jsxs)("div",{className:`dish-card p-6 rounded-lg hover-lift cursor-pointer ${e===x?"border-2 border-[rgba(234,219,102,0.5)]":""}`,onClick:()=>h(e),children:[(0,a.jsxs)("h3",{className:"font-medium mb-2",children:[e," 2023"]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400 text-sm",children:e===x?"Current View":"Click to View"}),a.jsx("button",{onClick:t=>{t.stopPropagation(),h(e),setTimeout(()=>C(),100)},className:"text-xs px-2 py-1 bg-gray-800 rounded-md text-gray-300 hover:bg-gray-700",children:"Export"})]})]},e))})]})]}),a.jsx(n.Z,{})]}):null}},9339:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(326),s=r(5047),l=r(434),d=r(7577);function n({children:e}){let t=(0,s.usePathname)(),[r,n]=(0,d.useState)(!0);return(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-950",children:[a.jsx("button",{onClick:()=>{n(!r)},className:"md:hidden fixed top-4 left-4 z-50 bg-gray-900 text-white p-2 rounded-full shadow-lg border border-gray-700 focus:outline-none",children:r?"✕":"☰"}),r&&a.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>n(!1)}),(0,a.jsxs)("div",{className:`${r?"translate-x-0":"-translate-x-full"} w-64 bg-black border-r border-gray-800 min-h-screen fixed z-40 transition-transform duration-300 ease-in-out md:translate-x-0`,children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-800",children:[a.jsx(l.default,{href:"/",className:"flex items-center justify-center",children:a.jsx("img",{src:"/images/Shehjar Logo.png",alt:"Shehjar Logo",className:"h-16 w-16"})}),(0,a.jsxs)("div",{className:"text-center mt-2",children:[a.jsx("h1",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Admin Panel"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Manage your restaurant"})]})]}),a.jsx("nav",{className:"mt-6 overflow-y-auto max-h-[calc(100vh-220px)]",children:a.jsx("ul",{children:[{label:"Dashboard",href:"/admin/dashboard",icon:"\uD83D\uDCCA"},{label:"Orders",href:"/admin/orders",icon:"\uD83D\uDCCB"},{label:"Tables",href:"/admin/table-manager",icon:"\uD83E\uDE91"},{label:"Menu",href:"/admin/menu-manager",icon:"\uD83C\uDF7D️"},{label:"Gallery",href:"/admin/gallery",icon:"\uD83D\uDDBC️"},{label:"Settings",href:"/admin/settings",icon:"⚙️"}].map((e,r)=>a.jsx("li",{children:(0,a.jsxs)(l.default,{href:e.href,className:`flex items-center px-6 py-3 text-gray-300 hover:bg-gray-900 hover:text-[rgba(234,219,102,1)] transition-colors ${t===e.href||t.startsWith(e.href+"/")?"bg-gray-900 text-[rgba(234,219,102,1)] border-l-4 border-[rgba(234,219,102,1)] pl-5":""}`,onClick:()=>{window.innerWidth<768&&n(!1)},children:[a.jsx("span",{className:"mr-3",children:e.icon}),e.label]})},r))})}),a.jsx("div",{className:"absolute bottom-0 w-full border-t border-gray-800 p-4",children:(0,a.jsxs)(l.default,{href:"/",className:"flex items-center justify-center text-gray-400 hover:text-white transition-colors text-sm",children:[a.jsx("span",{className:"mr-2",children:"\uD83C\uDFE0"}),"Return to Website"]})})]}),a.jsx("div",{className:`transition-all duration-300 ease-in-out flex-1 ${r?"md:ml-64":"ml-0"}`,children:a.jsx("div",{className:"p-4 sm:p-6",children:e})})]})}},6550:(e,t,r)=>{"use strict";r.d(t,{B4:()=>s,lA:()=>l,v2:()=>n}),r(711);let a=()=>[],s=(e,t=new Date().getFullYear())=>{let r=a(),s=["january","february","march","april","may","june","july","august","september","october","november","december"].findIndex(t=>t.toLowerCase()===e.toLowerCase());return -1===s?[]:r.filter(e=>{let r=new Date(e.date);return r.getMonth()===s&&r.getFullYear()===t})},l=(e=null,t=new Date().getFullYear())=>{let r;let l=(r=e?s(e,t):a()).filter(e=>"completed"===e.status),n=l.length,i=l.reduce((e,t)=>e+t.total,0),o=r.length>0?(r.length-l.length)/r.length*100:0,c={};l.forEach(e=>{e.items.forEach(e=>{c[e.id]||(c[e.id]={id:e.id,name:e.name,category:e.category,quantity:0,revenue:0}),c[e.id].quantity+=e.quantity,c[e.id].revenue+=e.price*e.quantity})});let x=Object.values(c).sort((e,t)=>t.revenue-e.revenue);return{totalOrders:n,totalRevenue:i,averageOrderValue:n>0?i/n:0,cancelRate:o,topSellingItems:x.slice(0,10),revenueByCategory:d(x)}},d=e=>{let t={};return e.forEach(e=>{t[e.category]||(t[e.category]=0),t[e.category]+=e.revenue}),Object.entries(t).map(([e,t])=>({category:e,revenue:t})).sort((e,t)=>t.revenue-e.revenue)},n=e=>{if(!e||!e.length)return"";let t="Order ID,Date,Total,Items,Status,Payment Method\n";return e.forEach(e=>{let r=new Date(e.date).toLocaleDateString(),a=e.items.map(e=>`${e.quantity}x ${e.name}`).join("; ");t+=`"${e.id}","${r}","₹${e.total.toFixed(2)}","${a}","${e.status}","${e.paymentMethod}"
`}),t}},5047:(e,t,r)=>{"use strict";var a=r(7389);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6660:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\wizkh\Desktop\Shehjar\app\admin\dashboard\page.js#default`)},5986:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\wizkh\Desktop\Shehjar\app\admin\layout.js#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[986,436,491],()=>r(9778));module.exports=a})();