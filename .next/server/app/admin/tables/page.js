(()=>{var e={};e.id=658,e.ids=[658],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3475:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),s(6313),s(5986),s(6149),s(1888);var r=s(3191),a=s(8716),l=s(7922),n=s.n(l),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["admin",{children:["tables",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6313)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\admin\\tables\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5986)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\admin\\layout.js"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6149)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,1888)),"C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\not-found.js"]}],c=["C:\\Users\\wizkh\\Desktop\\Shehjar\\app\\admin\\tables\\page.js"],m="/admin/tables/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/tables/page",pathname:"/admin/tables",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4555:(e,t,s)=>{Promise.resolve().then(s.bind(s,9339))},4758:(e,t,s)=>{Promise.resolve().then(s.bind(s,8093))},2018:()=>{},9339:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(326),a=s(5047),l=s(434),n=s(7577);function i({children:e}){let t=(0,a.usePathname)(),[s,i]=(0,n.useState)(!0);return(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-950",children:[r.jsx("button",{onClick:()=>{i(!s)},className:"md:hidden fixed top-4 left-4 z-50 bg-gray-900 text-white p-2 rounded-full shadow-lg border border-gray-700 focus:outline-none",children:s?"✕":"☰"}),s&&r.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>i(!1)}),(0,r.jsxs)("div",{className:`${s?"translate-x-0":"-translate-x-full"} w-64 bg-black border-r border-gray-800 min-h-screen fixed z-40 transition-transform duration-300 ease-in-out md:translate-x-0`,children:[(0,r.jsxs)("div",{className:"p-4 border-b border-gray-800",children:[r.jsx(l.default,{href:"/",className:"flex items-center justify-center",children:r.jsx("img",{src:"/images/Shehjar Logo.png",alt:"Shehjar Logo",className:"h-16 w-16"})}),(0,r.jsxs)("div",{className:"text-center mt-2",children:[r.jsx("h1",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[rgba(182,155,76,1)] to-[rgba(234,219,102,1)]",children:"Admin Panel"}),r.jsx("div",{className:"text-xs text-gray-400",children:"Manage your restaurant"})]})]}),r.jsx("nav",{className:"mt-6 overflow-y-auto max-h-[calc(100vh-220px)]",children:r.jsx("ul",{children:[{label:"Dashboard",href:"/admin/dashboard",icon:"\uD83D\uDCCA"},{label:"Orders",href:"/admin/orders",icon:"\uD83D\uDCCB"},{label:"Tables",href:"/admin/table-manager",icon:"\uD83E\uDE91"},{label:"Menu",href:"/admin/menu-manager",icon:"\uD83C\uDF7D️"},{label:"Gallery",href:"/admin/gallery",icon:"\uD83D\uDDBC️"},{label:"Settings",href:"/admin/settings",icon:"⚙️"}].map((e,s)=>r.jsx("li",{children:(0,r.jsxs)(l.default,{href:e.href,className:`flex items-center px-6 py-3 text-gray-300 hover:bg-gray-900 hover:text-[rgba(234,219,102,1)] transition-colors ${t===e.href||t.startsWith(e.href+"/")?"bg-gray-900 text-[rgba(234,219,102,1)] border-l-4 border-[rgba(234,219,102,1)] pl-5":""}`,onClick:()=>{window.innerWidth<768&&i(!1)},children:[r.jsx("span",{className:"mr-3",children:e.icon}),e.label]})},s))})}),r.jsx("div",{className:"absolute bottom-0 w-full border-t border-gray-800 p-4",children:(0,r.jsxs)(l.default,{href:"/",className:"flex items-center justify-center text-gray-400 hover:text-white transition-colors text-sm",children:[r.jsx("span",{className:"mr-2",children:"\uD83C\uDFE0"}),"Return to Website"]})})]}),r.jsx("div",{className:`transition-all duration-300 ease-in-out flex-1 ${s?"md:ml-64":"ml-0"}`,children:r.jsx("div",{className:"p-4 sm:p-6",children:e})})]})}},8093:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(326),a=s(7577),l=s(5047);s(434);let n=()=>({mainFloor:[],topFloor:[]}),i=(e,t,s=null)=>!1,o=()=>!1;s(6550),s(3436);var d=s(2018),c=s.n(d),m={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u=a.createContext&&a.createContext(m),h=["attr","size","title"];function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(Object(s),!0).forEach(function(t){var r,a;r=t,a=s[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function g(){let[e,t]=(0,a.useState)(!1),[s,d]=(0,a.useState)(!0),[m,u]=(0,a.useState)({mainFloor:[],topFloor:[]}),[h,x]=(0,a.useState)([]),[b,p]=(0,a.useState)(null),[g,j]=(0,a.useState)(null),[f,v]=(0,a.useState)(!1),[y,N]=(0,a.useState)("main"),[w,D]=(0,a.useState)({customerName:"",items:[]}),[P,S]=(0,a.useState)(null),k=(0,l.useRouter)(),C=()=>{d(!0),u(n()),d(!1)},O=e=>{p(e),j(null),v(!0)},F=e=>{N(e),p(null),v(!1)},$=e=>{switch(e){case"available":return"bg-green-500";case"occupied":return"bg-red-500";case"preparing":return"bg-yellow-500";case"ready":return"bg-blue-500";case"completed":case"reserved":return"bg-purple-500";default:return"bg-gray-300"}},z=e=>{e&&k.push(`/admin/orders/${e}`)},_=(e,t)=>{i(e,t),C(),b&&b.id===e&&p(e=>({...e,status:t}))};return("main"===y?m.mainFloor:m.topFloor,s)?r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:r.jsx("div",{className:"text-[rgba(234,219,102,1)]",children:"Loading..."})}):e?r.jsx(c(),{children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Table Management"}),(0,r.jsxs)("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all tables to available?")&&(o(),C(),p(null))},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Reset All Tables"}),r.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Refresh"})]})]}),(0,r.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[r.jsx("button",{className:`px-4 py-2 ${"main"===y?"bg-amber-700 text-white":"bg-gray-200 text-gray-700"} rounded-t-lg mr-2`,onClick:()=>F("main"),children:"Main Floor (7 Tables)"}),r.jsx("button",{className:`px-4 py-2 ${"top"===y?"bg-amber-700 text-white":"bg-gray-200 text-gray-700"} rounded-t-lg`,onClick:()=>F("top"),children:"Top Floor (8 Tables)"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"main"===y?"Main Floor Layout":"Top Floor Layout"}),s?r.jsx("p",{children:"Loading tables..."}):(0,r.jsxs)("div",{className:"relative",children:["main"===y&&r.jsx("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-100 rounded-lg",children:m.mainFloor.map(e=>(0,r.jsxs)("button",{onClick:()=>O(e),className:`
                          p-4 rounded-lg text-white font-bold
                          ${$(e.status)}
                          ${b?.id===e.id?"ring-4 ring-amber-400":""}
                          transition duration-200 transform hover:scale-105
                        `,children:[r.jsx("div",{className:"text-xl",children:e.id}),r.jsx("div",{className:"text-sm capitalize",children:e.status})]},e.id))}),"top"===y&&r.jsx("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-100 rounded-lg",children:m.topFloor.map(e=>(0,r.jsxs)("button",{onClick:()=>O(e),className:`
                          p-4 rounded-lg text-white font-bold
                          ${$(e.status)}
                          ${b?.id===e.id?"ring-4 ring-amber-400":""}
                          transition duration-200 transform hover:scale-105
                        `,children:[r.jsx("div",{className:"text-xl",children:e.id}),r.jsx("div",{className:"text-sm capitalize",children:e.status})]},e.id))})]})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Table Details"}),b?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"bg-gray-100 p-4 rounded-lg mb-4",children:[r.jsx("h3",{className:"text-lg font-bold",children:b.id}),(0,r.jsxs)("p",{className:"capitalize text-sm mb-2",children:["Status:"," ",r.jsx("span",{className:"font-semibold",children:b.status})]}),(0,r.jsxs)("p",{className:"text-sm mb-4",children:["Floor:"," ",r.jsx("span",{className:"font-semibold capitalize",children:b.floor})]}),b.orderId?(0,r.jsxs)("p",{className:"text-sm",children:["Associated Order:"," ",r.jsx("span",{className:"font-semibold",children:b.orderId})]}):r.jsx("p",{className:"text-sm italic",children:"No active order"})]}),g&&(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Order Information"}),(0,r.jsxs)("div",{className:"bg-gray-100 p-3 rounded-lg",children:[(0,r.jsxs)("p",{className:"text-sm mb-1",children:["Status:"," ",r.jsx("span",{className:"font-semibold capitalize",children:g.status})]}),(0,r.jsxs)("p",{className:"text-sm mb-1",children:["Items:"," ",r.jsx("span",{className:"font-semibold",children:g.items.length})]}),(0,r.jsxs)("p",{className:"text-sm mb-3",children:["Total:"," ",(0,r.jsxs)("span",{className:"font-semibold",children:["₹",g.totalAmount.toFixed(2)]})]}),r.jsx("button",{onClick:()=>z(g.id),className:"w-full bg-blue-500 text-white py-1 px-3 rounded text-sm hover:bg-blue-600 transition",children:"View Full Order"})]})]}),r.jsx("div",{className:"mt-6 space-y-2",children:r.jsx("button",{onClick:()=>_(b.id,"available"),className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:"available"===b.status,children:"Mark as Available"})})]}):r.jsx("p",{className:"text-gray-500 italic",children:"Select a table to view details"})]})]}),(0,r.jsxs)("div",{className:"mt-6 bg-white p-4 rounded-lg shadow",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Table Status Legend"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Available"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Occupied"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Preparing"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Ready"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Reserved"})]})]})]})]})}):null}},6550:(e,t,s)=>{"use strict";s.d(t,{B4:()=>a,lA:()=>l,v2:()=>i}),s(711);let r=()=>[],a=(e,t=new Date().getFullYear())=>{let s=r(),a=["january","february","march","april","may","june","july","august","september","october","november","december"].findIndex(t=>t.toLowerCase()===e.toLowerCase());return -1===a?[]:s.filter(e=>{let s=new Date(e.date);return s.getMonth()===a&&s.getFullYear()===t})},l=(e=null,t=new Date().getFullYear())=>{let s;let l=(s=e?a(e,t):r()).filter(e=>"completed"===e.status),i=l.length,o=l.reduce((e,t)=>e+t.total,0),d=s.length>0?(s.length-l.length)/s.length*100:0,c={};l.forEach(e=>{e.items.forEach(e=>{c[e.id]||(c[e.id]={id:e.id,name:e.name,category:e.category,quantity:0,revenue:0}),c[e.id].quantity+=e.quantity,c[e.id].revenue+=e.price*e.quantity})});let m=Object.values(c).sort((e,t)=>t.revenue-e.revenue);return{totalOrders:i,totalRevenue:o,averageOrderValue:i>0?o/i:0,cancelRate:d,topSellingItems:m.slice(0,10),revenueByCategory:n(m)}},n=e=>{let t={};return e.forEach(e=>{t[e.category]||(t[e.category]=0),t[e.category]+=e.revenue}),Object.entries(t).map(([e,t])=>({category:e,revenue:t})).sort((e,t)=>t.revenue-e.revenue)},i=e=>{if(!e||!e.length)return"";let t="Order ID,Date,Total,Items,Status,Payment Method\n";return e.forEach(e=>{let s=new Date(e.date).toLocaleDateString(),r=e.items.map(e=>`${e.quantity}x ${e.name}`).join("; ");t+=`"${e.id}","${s}","₹${e.total.toFixed(2)}","${r}","${e.status}","${e.paymentMethod}"
`}),t}},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},5986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\wizkh\Desktop\Shehjar\app\admin\layout.js#default`)},6313:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\wizkh\Desktop\Shehjar\app\admin\tables\page.js#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[986,436],()=>s(3475));module.exports=r})();